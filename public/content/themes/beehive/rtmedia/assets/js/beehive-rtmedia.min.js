"use strict";!function(t){const i=t("body.beehive");if(i.hasClass("activity")||i.hasClass("group-home")){const i=t("#bp-nouveau-activity-form"),a=t("#rtmedia-add-media-button-post-update"),n=t("#activity-stream")[0],r={childList:!0,subtree:!0};i.on("click",function(){const i=t(this).find("#whats-new"),e=beehive_data.activity_max;i.attr("maxlength",e),i.on("keyup",function(){t("#bp-nouveau-activity-form .char-count").length||t(this).after('<span class="char-count mute"></span>');const i=t("#bp-nouveau-activity-form .char-count"),s=t(this).val().length,a=e-s;i.text(a)})}),a.length&&a.append('<span class="button-text">'+beehive_data.attachment_text+"</span>");let d=new MutationObserver((t,i)=>{for(let i of t)if("childList"==i.type&&i.addedNodes.length)for(let t of i.addedNodes)if(1==t.nodeType){if(t.classList.contains("activity-list"))for(let i of t.children)i.classList.contains("activity-item")&&(e(),s());t.classList.contains("activity-item")&&(e(),s())}});if(n){t(".activity-item",n).length&&(e(),s()),d.observe(n,r)}function e(){t("li.activity_update, li.rtmedia_update").each(function(){if(t(this).hasClass("text-rendered"))return;const i=t(this).find(".activity-inner .rtmedia-activity-text");i.length?i.addClass("activity-inner-text"):t(this).find(".activity-inner").wrapInner('<div class="activity-inner-text"></div>');const e=t(this).find(".activity-inner-text");e.length&&e.shorten({showChars:230,moreText:beehive_data.read_more.toLowerCase(),lessText:beehive_data.read_close}),t(this).addClass("text-rendered")})}function s(){t(".activity-item .rtm-activity-media-list").each(function(){if(!t(this).hasClass("rtm-activity-list-rendered"))if(t(this).hasClass("rtm-activity-photo-list")){const i=4;if(t(this).children().length>i){t(this).find(".rtmedia-list-item").filter(function(t){return t+1==i}).addClass("more").end().filter(function(t){return t+1>i}).hide(),t(this).addClass("rtm-activity-list-rendered")}}else if(t(this).hasClass("rtm-activity-video-list")||t(this).hasClass("rtm-activity-music-list")||t(this).hasClass("rtm-activity-mixed-list"))if(t(this).children().length>1){t(this).find(".rtmedia-list-item video").each(function(){t(this).attr("preload",!0)}),t(this).wrap('<div class="rtm-activity-slider-container"></div>'),t(this).addClass("swiper-wrapper"),t(this).find(".rtmedia-list-item").addClass("swiper-slide"),t(this).after('<div class="swiper-pagination"></div>'),new Swiper(".rtm-activity-slider-container",{pagination:{el:".swiper-pagination",clickable:!0}}),t(this).addClass("rtm-activity-list-rendered")}else{t(this).find(".rtmedia-list-item video").each(function(){t(this).attr("preload",!0)}),t(this).addClass("rtm-activity-list-rendered")}})}}i.hasClass("beehive-media")&&t(window).scroll(function(){const i=t(".rtm-load-more a.show-it");if(i.length&&"block"==i.css("display")){const e=i.offset().top-50;t(window).scrollTop()+t(window).height()>e&&i.trigger("click")}})}(jQuery);